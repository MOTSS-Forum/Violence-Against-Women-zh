function initBodyMovin(){for(index in bm_animations){var e={wrapper:document.getElementById(bm_animations[index].elem),animType:"svg",loop:bm_animations[index].loop,prerender:!0,autoplay:!1,path:"../scripts/bodymovin/"+bm_animations[index].json+".json"};bm_animations[index].bodymovin=bodymovin.loadAnimation(e)}}function initMenu(){$(".toggle-menu").click(function(e){e.preventDefault(),$body.hasClass("language-opened")?$body.removeClass("language-opened"):$("body").toggleClass("menu-opened")}),$(".share li a").click(function(e){e.preventDefault();var a=screen.height/2-250,i=screen.width/2-350,t=$(this).attr("href"),n=$(this).text();window.open(t,n,"top="+a+",left="+i+",toolbar=0,status=0,width=700,height=500")}),isMobile&&$(".language-menu").click(function(e){e.preventDefault(),$("body").toggleClass("language-opened")}),$(".chapters-nav .chapters li a").click(function(e){e.preventDefault();var a=$(this).parent();a.addClass("over");var i=$(this).attr("href"),t=$(i).index()+1;overlay.show(e,$(this)),setTimeout(function(){chapter_active=!0,a.removeClass("over"),$.fn.fullpage.moveTo(t)},delay_default)}),$(".chapters-menu .chapters li a").click(function(e){e.preventDefault();var a=$(this).parent();a.addClass("active");var i=$(this).attr("href"),t=$(i).index()+1;$.fn.fullpage.moveTo(t),setTimeout(function(){setTimeout(function(){a.removeClass("active")},500),$("body").removeClass("menu-opened")},500)}),$(".source strong").click(function(e){e.preventDefault(),$(this).closest(".source").toggleClass("show")}),resizeMenu(),isTouch||$(".chapters-fullnav").mousemove(function(e){var a=-($(".chapters-menu .chapters").outerWidth()-$window.width())*e.pageX/$window.width();$(".chapters-menu .chapters").css({transform:"translate3d("+a+"px,0, 0)","-webkit-transform":"translate3d("+a+"px,0, 0)","-ms-transform":"translate3d("+a+"px,0, 0)"})})}function scrollEvents(){var e=$window.scrollTop(),a=getScrollDirection(e);isMobile&&("up"==a?$("#main-header").addClass("scroll-up"):$("#main-header").removeClass("scroll-up"),e>=1?$(".borders").addClass("show"):$(".borders").removeClass("show"))}function getScrollDirection(e){var a=e>lastScroll?"down":"up";return lastScroll=e,a}function resizeMenu(){if(!isMobile){var e=0;$(".chapters-menu .chapters li").each(function(a,i){e+=$(this).outerWidth()+5}),$(".chapters-menu .chapters").width(e)}}function initFullPage(){var e=!0,a=!0;$window.width()<=767&&(e=!1,a=!1),$("#fp-sections").fullpage({verticalCentered:!0,scrollingSpeed:delay_default,autoScrolling:e,fitToSection:a,anchors:["home","home-2","nav-1","closing-1","intimate","intimate-2","intimate-3","intimate-4","nav-2","closing-2","sexual","sexual-2","sexual-3","sexual-4","sexual-5","nav-3","closing-3","trafficking","trafficking-2","trafficking-3","nav-4","closing-4","mutilation","mutilation-2","mutilation-3","nav-5","closing-5","childmarriage","childmarriage-2","childmarriage-3","nav-6","closing-6"],afterRender:function(){$(this)},onLeave:function(e,a,i){var t=$(this),n=$(".section:nth-child("+a+")");return!($("body").hasClass("show-closing")&&"down"==i&&a-e==1&&!isMobile)&&(!(t.hasClass("sc-title")&&"up"==i&&a-e==-1&&!isMobile)&&(n.hasClass("sc-nav")?$("body").addClass("show-chaptersnav"):$("body").removeClass("show-chaptersnav"),n.hasClass("sc-closing")?$("body").addClass("show-closing"):$("body").removeClass("show-closing"),$body.removeClass("fp-dir-down"),$body.removeClass("fp-dir-up"),$body.addClass("fp-leaving"),$body.addClass("fp-dir-"+i),animElements(n,"in"),isMobile&&animElements(t,"out"),void setTimeout(function(){$body.removeClass("fp-leaving")},500)))},afterLoad:function(e,a){var i=$(this);if(i.hasClass("sc-nav")){if(i.prevAll(".sc-title").length){var t=$(this).prevAll(".sc-title")[0].id;$(".chapters-nav").find('a[href="#'+t+'"]').parent().addClass("visited")}$(".chapters-nav li").removeClass("pulse"),$(".chapters-nav").each(function(e,a){var i=$(this).find("ul").children("li:not(.visited)");$(i[0]).addClass("pulse")})}}}),$(".btn-back").click(function(e){e.preventDefault(),isMobile?$.fn.fullpage.moveTo(1):$.fn.fullpage.moveSectionUp()}),$(".scroll-down").click(function(e){e.preventDefault(),$(this).closest("section").hasClass("sc-nav")?$.fn.fullpage.moveTo(5):$.fn.fullpage.moveSectionDown()})}function initOverlay(){overlay.c=document.getElementById("color-overlay"),overlay.ctx=overlay.c.getContext("2d"),overlay.resizeCanvas()}function fadeEffects(e,a,i){var t=$(e).data("delay");t&&!isMobile||(t=0);var n=e,o={opacity:0,y:30,z:.01},s={opacity:1,y:0,z:0,delay:t};"top"==i&&(o={opacity:0,y:-30,z:.01},s={opacity:1,y:0,z:0,delay:t}),"left"==i&&(o={opacity:0,x:-30,z:.01},s={opacity:1,x:0,z:0,delay:t}),"right"==i&&(o={opacity:0,x:30,z:.01},s={opacity:1,x:0,z:0,delay:t}),"in"==a&&(TweenMax.to(n,0,o),setTimeout(function(){TweenMax.fromTo(n,1,o,s)},delay_default))}function animElements(e,a){e.hasClass("sc-nav")&&(e=$("nav.chapters-nav")),e.hasClass("sc-closing")&&(e=$("#closing"));var i=e.attr("id");if(i in bm_animations){if(bm_animations[i].bodymovin.goToAndStop(0),"out"==a)return;setTimeout(function(){bm_animations[i].bodymovin.goToAndPlay(0)},delay_default)}if("out"!=a){if(TweenMax.killAll(),1==$("#color-overlay").css("opacity")){var t={currX:0,currY:0,currRadius:0};TweenMax.to(overlay.c,.5,{opacity:0,delay:.6,ease:Linear.easeNone}),TweenMax.to(t,0,{currRadius:0,delay:1.2,ease:Linear.easeNone}),TweenMax.to(overlay.c,0,{zIndex:-1,delay:1.2,ease:Linear.easeNone})}isMobile&&!e.hasClass("sc-title")&&"sc-home-1"!=e.attr("id")||(e.find(".show-lazy").each(function(){fadeEffects(this,a,"bottom")}),e.find(".showtop-lazy").each(function(){fadeEffects(this,a,"top")}),e.find(".showleft-lazy").each(function(){fadeEffects(this,a,"left")}),e.find(".showright-lazy").each(function(){fadeEffects(this,a,"right")}),e.find(".fd-letter").each(function(e,a){var i=$(this),t=i.data("delay");t||(t=0),isMobile&&(t=.5);var n=i.data("speed");n||(n=.03),i.find(".letter").each(function(e,a){var i=$(this)[0];TweenMax.to(i,0,{x:40,opacity:0})}),setTimeout(function(){i.find(".letter").each(function(e,a){var i=$(this)[0];TweenMax.fromTo(i,1.2,{x:40,z:.01,opacity:0},{x:0,z:0,opacity:1,delay:t,ease:Expo.easeOut}),t+=n})},delay_default)}))}}function detectIE(){var e=window.navigator.userAgent,a=e.indexOf("MSIE ");if(a>0)return parseInt(e.substring(a+5,e.indexOf(".",a)),10);if(e.indexOf("Trident/")>0){var i=e.indexOf("rv:");return parseInt(e.substring(i+3,e.indexOf(".",i)),10)}var t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}var $window=$(window),$body=$("body"),$document=$(document),isTablet=!1,isMobile=!1,isTouch=!1,chapter_active=!1,loading_bar=0,delay_default=1e3,lastScroll=0,overlay={};$window.width()<=1024&&(isTablet=!0),$window.width()<=767&&(isMobile=!0,delay_default=0),$("html").hasClass("touch")&&(isTouch=!0);var version=detectIE();version&&$("html").addClass("ie"),$window.load(function(){document.getElementById("loading_bar1").style.transform="scale(1, 1)",setTimeout(function(){document.getElementById("loading_bar2").style.transform="scale(1, 1)",setTimeout(function(){document.getElementById("loading_bar3").style.transform="scale(1, 1)",setTimeout(function(){document.getElementById("loading_bar4").style.transform="scale(1, 1)",setTimeout(function(){document.getElementById("loading_bar5").style.transform="scale(1, 1)",setTimeout(function(){$(".loading-screen").addClass("hide"),animElements($(".section.active"),"in")},1e3)},300)},300)},300)},300)}),$document.ready(function(e){initMenu(),initOverlay(),e(".fd-letter").each(function(){e(this).html(e(this).text().replace(/([^\x00-\x20]|\w)/g,"<span class='letter'>$&</span>"))}),initBodyMovin(),scrollEvents(),initFullPage()}),$window.resize(function(e){overlay.resizeCanvas(),resizeMenu()}),$window.scroll(function(e){scrollEvents()});var bm_animations=[];bm_animations["sc-home-1"]={bodymovin:void 0,elem:"bm-home",json:"home",loop:!1},bm_animations["sc-intimate-1"]={bodymovin:void 0,elem:"bm-intimate-header",json:"intimate-header",loop:!1},bm_animations["sc-intimate-3"]={bodymovin:void 0,elem:"bm-intimate-fastfact",json:"intimate-fastfact",loop:!0},bm_animations["sc-intimate-4"]={bodymovin:void 0,elem:"bm-intimate-laws",json:"intimate-laws",loop:!1},bm_animations["sc-sexual-1"]={bodymovin:void 0,elem:"bm-sexual-header",json:"sexual-header",loop:!1},bm_animations["sc-trafficking-1"]={bodymovin:void 0,elem:"bm-trafficking-header",json:"trafficking-header",loop:!1},isMobile&&(bm_animations["sc-trafficking-1"].json="trafficking-header-mobile"),bm_animations["sc-trafficking-3"]={bodymovin:void 0,elem:"bm-trafficking-fastfact",json:"trafficking-fastfact",loop:!1},bm_animations["sc-mutilation-1"]={bodymovin:void 0,elem:"bm-mutilation-header",json:"mutilation-header",loop:!1},bm_animations["sc-childmarriage-1"]={bodymovin:void 0,elem:"bm-childmarriage-header",json:"childmarriage-header",loop:!1},bm_animations["sc-childmarriage-3"]={bodymovin:void 0,elem:"bm-childmarriage-fastfact",json:"childmarriage-fastfact",loop:!0},overlay.resizeCanvas=function(){overlay.cW=window.innerWidth,overlay.cH=window.innerHeight,overlay.c.width=overlay.cW,overlay.c.height=overlay.cH},overlay.show=function(e,a){function i(){overlay.ctx.clearRect(0,0,window.innerWidth,window.innerHeight),overlay.ctx.beginPath(),overlay.ctx.arc(s.currX,s.currY,s.currRadius,0,2*Math.PI,!0),overlay.ctx.fillStyle=o,overlay.ctx.fill()}TweenMax.to(overlay.c,.3,{opacity:1,zIndex:5,ease:Expo.easeInOut}),e.touches&&(e.preventDefault(),e=e.touches[0]);var t=e.clientX?e.clientX:ml.horizontalCenterForElement($(c).parent()[0]),n=e.clientY?e.clientY:ml.verticalCenterForElement($(c).parent()[0]),o=a.attr("data-color"),s={currX:t,currY:n,currRadius:0};TweenLite.ticker.addEventListener("tick",i,!1);var l=overlay.cW;overlay.cH>overlay.cW&&(l=overlay.cH),TweenMax.to(s,1.5,{currRadius:l,ease:Expo.easeInOut})};